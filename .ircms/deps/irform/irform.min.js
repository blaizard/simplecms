/* irform.min.js (2016.11.12) by Blaise Lengrand
 */
!function(r){r.irRequire||(r.irRequire=function(r,e,i,n){var u=-1,t=irRequire;e||(u=r,r=t.r[u][0],e=t.r[u][1],i=t.r[u][2],t.r[u][3]-=100,n=t.r[u][3]),"undefined"==typeof n&&(n=5e3),"string"==typeof r&&(r=[r]);var f=1;try{for(var o in r)if("undefined"==typeof eval(r[o])){f=0;break}}catch(c){f=0}f?(u>=0&&(clearTimeout(t.r[u][4]),t.r[u]=0),e(i)):(0>u&&(t.r.push([r,e,i,n]),u=t.r.length-1),n>0&&(t.r[u][4]=setTimeout(function(){t(u)},100)))},r.irRequire.r=[],r.irRequire.trigger=function(){irRequire.r.forEach(function(r,e){r&&irRequire(e)})})}(window);var Irform=function(r,t,e){irRequire.trigger(),this.container=$(r),this.formDescription=t,this.options=$.extend(!0,{},Irform.defaultOptions,e),this.container.empty(),$(this.container).addClass("irform-layout"),this.options.hookInit.call(this),this.create(r,t)};Irform.CHAR_A_Z=1,Irform.CHAR_0_9=2,Irform.CHAR_SPACE=4,Irform.CHAR_SPECIAL=8,Irform.CHAR_UPPERCASE_ONLY=16,Irform.CHAR_LOWERCASE_ONLY=32,Irform.EMAIL="^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+.[a-zA-Z]{2,}$",Irform.defaultOptions={fields:{input:function(r,t){return $("<input>",{type:"text",name:r,"class":"irform",placeholder:t.placeholder})},checkbox:function(r,t){var e=function(r,t,e){var i=$("<div>",{"class":e?"irform-inline":""}),n=$("<input>",{type:"checkbox",name:r,"class":"irform",id:"irform-checkbox-"+ ++Irform.unique});return $(i).append(n),$(i).append('<label for="'+$(n).prop("id")+'">'+t+"</label>"),i};if(!t.list)return e(r,"",!1);if(1==t.list.length)return e(r,t.list[0],!1);var i=$("<div>",{"class":"irform-container",name:r}),n=t.list;for(var a in n){var o=n[a]instanceof Array?e(n[a][0],n[a][1],t.inline):e(n[a],n[a],t.inline);$(i).append(o)}return i},"switch":function(r){var t=$("<div>",{"class":"irform irform-switch"}),e=$("<input>",{type:"checkbox",name:r,id:"irform-switch-"+ ++Irform.unique});return $(t).append(e),$(t).append('<label for="'+$(e).prop("id")+'"></label>'),t},password:function(r,t){return $("<input>",{type:"password",name:r,"class":"irform",placeholder:t.placeholder})},textarea:function(r,t){return $("<textarea>",{name:r,"class":"irform",placeholder:t.placeholder})},submit:function(r,t){var e=$("<button>",{type:"button",name:r,"class":"irform"});$(e).text(t.value||"Submit");var i=this;return $(e).click(function(){i.submit(t.callback)}),e},select:function(r,t){var e=$("<select>",{name:r,"class":"irform"}),i=t.list;for(var r in i){var n=$("<option>",{value:i instanceof Array?i[r]:r});$(n).text(i[r]),$(e).append(n)}return e}},defaultType:"input",wrapper:function(r,t){var e=$("<div>"),i=$("<div>",{"class":"irform-caption"});$(i).text(t.caption);var n=$("<div>",{"class":"irform-elements"});return $(n).append(r),$(e).append(i),$(e).append(n),e},callbackError:function(r){var t="";$(this.container).find(".irform-item.error").removeClass("error");for(var e in r)switch($(r[e].item).removeClass("success").addClass("error"),r[e].type){case"required":t+="'"+r[e].name+"' is required\n";break;case"validation":t+="'"+r[e].name+"' does not validate\n"}alert(t)},callbackSuccess:function(r){$(r).removeClass("error").addClass("success")},disable:function(r,t){var e=Irform.findNameHolder(t);$(e).find("input,textarea,select,button").add(e).prop("disabled",r),$(t).find("input,textarea,select,button").filter(".irform").prop("disabled",r),r?$(t).addClass("disable"):$(t).removeClass("disable"),Irform.queue(e,function(){$(e).trigger(r?"disable":"enable")})},hookInit:function(){}},Irform.validate=function(r,t){return"string"==typeof t?r&Irform.CHAR_UPPERCASE_ONLY&&t.test(/[a-z]/g)?!1:r&Irform.CHAR_LOWERCASE_ONLY&&t.test(/[A-Z]/g)?!1:(r&Irform.CHAR_A_Z&&(t=t.replace(/[a-z]/gi,"")),r&Irform.CHAR_0_9&&(t=t.replace(/[0-9]/g,"")),r&Irform.CHAR_SPACE&&(t=t.replace(/[ ]/g,"")),r&Irform.CHAR_SPECIAL&&(t=t.replace(/[!"#\$%&'\(\)\*\+,\-\.\/:;<=>\?@\[\\\]^_`\{\|\}~]/g,"")),""===t?!0:!1):!0},Irform.findNameHolder=function(r,t){return"undefined"==typeof t&&(t=$(r).hasClass("irform-item")?$(r).attr("data-irform"):null),$(r).find("[name"+(t?"="+t:"")+"]").addBack("[name"+(t?"="+t:"")+"]").first()},Irform.prototype.create=function(r,t){"undefined"==typeof Irform.unique&&(Irform.unique=0);for(var e in t){var i=this,n=$.extend({name:"irform"+ ++Irform.unique,type:this.options.defaultType,required:!1,validate:null,disabled:!1,ignore:"undefined"==typeof t[e].name?!0:!1,options:{}},t[e]),a=n.name;t[e]=n;var o=n.type;if("function"==typeof this.options.fields[o]){var f=this.options.fields[o].call(this,a,n,function(){$(this).removeClass("irform-pending"),Irform.queue(this)}),s=Irform.findNameHolder(f,a);$(s).on("change",function(){var r=$(this).prop("name")||$(this).attr("name"),t=Irform.get(this)[r],e=$(this).parents(".irform-item:first"),n=$(e).data("irform");!Irform.isEmpty(t)&&n.validate?i.validate(e,t)?i.options.callbackSuccess.call(i,e,r):i.options.callbackError.call(i,[{type:"validation",item:e,name:r,options:n}]):!Irform.isEmpty(t)&&$(e).hasClass("required")&&i.options.callbackSuccess.call(i,e,r),"function"==typeof n.onchange?n.onchange.call(i,e,t):"object"==typeof n.onchange&&($(this).data("nextElement")&&$(e).nextUntil($(this).data("nextElement")).remove(),$(this).data("nextElement",$(e).next()),"object"==typeof n.onchange[t]?i.create(e,n.onchange[t]):"object"==typeof n.onchange.__default__&&i.create(e,n.onchange.__default__))});var l=this.options.wrapper.call(this,f,n,a);$(l).addClass("irform-item"),n.width&&$(l).css("width",n.width),$(l).attr("data-irform",a),n.required&&$(l).addClass("required"),n.disabled&&Irform.queue(s,function(){i.options.disable.call(i,!0,$(this).parents(".irform-item:first"))}),$(l).data("irform",n),$(r).hasClass("irform-item")?$(r).after(l):$(r).append(l)}else console.log("'"+o+"' is not supported")}for(var e in t){var a=t[e].name,s=Irform.findNameHolder(this.container,a);Irform.queue(s,function(){$(this).trigger("change")})}},Irform.prototype.submit=function(r){var t=this.get();if(t!==!1)if("function"==typeof r)r.call(this,t);else if(this.container.is("form")){var e=$("<form>",{action:$(this.container).prop("action"),method:$(this.container).prop("method")||"POST",enctype:"multipart/form-data",style:"display: none;"}),i=function(r,t){var e="";for(var n in r)e+="object"==typeof r[n]?i(r[n],t?t+"["+n+"]":n):'<input name="'+(t?t+"["+n+"]":n)+'" value="'+(r[n]+"").replace(/"/g,"&quot;")+'"/>';return e},n=i(t,"");$(e).html(n),$(this.container).find("input[type=file]").each(function(){$(this).appendTo(e)}),$("body").append(e),e.submit()}},Irform.prototype.disable=function(){var r=this.options.disable;this.each(function(t){r.call(this,!0,t)})},Irform.prototype.enable=function(){var r=this.options.disable;this.each(function(t){r.call(this,!1,t)})},Irform.prototype.update=function(r){var t=this.get(function(){},!0);this.container.empty(),this.formDescription=r,this.create(this.container,r),this.set(t)},Irform.prototype.ignore=function(r,t){var e=$(r).data("irform");e.ignore=t,$(r).data("irform",e)},Irform.prototype.validate=function(r,t){var e=$(r).data("irform");if("number"==typeof e.validate)return Irform.validate(e.validate,t);if("string"==typeof e.validate){var i=new RegExp(e.validate,"g");return i.test(t)}return"function"==typeof e.validate?e.validate.call(this,t,r):!0},Irform.prototype.each=function(r){var t=this;this.container.find(".irform-item").each(function(){r.call(t,this)})},Irform.prototype.get=function(r,t){var e=!1,i=[],n=this;"undefined"==typeof t&&(t=!1);var a=$();this.each(function(r){a=a.add($("[name="+$(r).attr("data-irform")+"]"))});var o=Irform.get(a,function(a,o){var f=$(this).parents(".irform-item:first"),s=f.data("irform");if(!t){if(s.ignore)return null;if(Irform.isEmpty(o)&&f.hasClass("required")&&(i.push({type:"required",item:f,name:a,options:s}),e=!0),s.validate&&!n.validate(f,o)&&(i.push({type:"validation",item:f,name:a,options:s}),e=!0),"function"==typeof r){var l=r.call(n,f,a,o);if("undefined"!=typeof l)return l}}});return e?(this.options.callbackError.call(this,i),!1):o},Irform.prototype.set=function(r){var t={};do{var e=!1;Irform.set(this.container,r,function(r){return"undefined"!=typeof t[r]?null:(t[r]=!0,void(e=!0))})}while(e)},Irform.queue=function(r,t){if("function"==typeof t)if($(r).hasClass("irform-pending")){var e=$(r).data("irform-queue")||[];e.push(t),$(r).data("irform-queue",e)}else t.call(r);else{for(var e=$(r).data("irform-queue")||[];e.length;){var t=e.shift();t.call(r)}$(r).data("irform-queue",[])}},Irform.set=function(r,t,e){var i=$(r).find("[name]").addBack("[name]").not("a").filter(function(){var t=$(this).parent().closest("[name]");return 0==t.length||0==$(r).find(t).length&&0==$(r).filter(t).length});$(i).each(function(){var r=$(this).prop("name")||$(this).attr("name");if("undefined"!=typeof t[r]){var i=t[r];if("function"==typeof e){var n=e.call(this,r,i);if("undefined"!=typeof n){if(null===n)return;i=n}}Irform.queue(this,function(){$(this).hasClass("irform-container")?Irform.set($(this).children(),i):$(this).is("input[type=checkbox]")?$(this).prop("checked",i):$(this).val(i),$(this).trigger("change")})}})},Irform.get=function(r,t){var e={},i=$(r).find("[name]").addBack("[name]").not("a").filter(function(){var t=$(this).parent().closest("[name]");return 0==t.length||0==$(r).find(t).length&&0==$(r).filter(t).length});return $(i).each(function(){if(!$(this).hasClass("irform-pending")){var r=$(this).prop("name")||$(this).attr("name");if(r){var i=$(this).hasClass("irform-container")?Irform.get($(this).children()):$(this).is("input[type=checkbox]")?$(this).is(":checked")?1:"":$(this).val();if("function"==typeof t){var n=t.call(this,r,i);if("undefined"!=typeof n){if(null===n)return;i=n}}e[r]=i}}}),e},Irform.clear=function(r){$(r).find(".irform-array").trigger("array-empty"),$(r).find("[name]").val("").trigger("change")},Irform.isEmpty=function(r){if("object"==typeof r){var t=!0;for(var e in r)t&=Irform.isEmpty(r[e]);return t}return r?!1:!0};!function(r){r.fn.irformArray=function(a,t){var i;return r(this).each(function(){i=r().irformArray.x.call(this,a,t)}),"undefined"==typeof i?r(this):i},r.fn.irformArray.x=function(a){var t=r.fn.irformArray.defaults,i="create";switch("string"==typeof a&&(i=a),"create"!=i&&r(this).data("irformArray")&&(t=r(this).data("irformArray")),"object"==typeof a&&(t=r.extend(!0,{},t,a)),r(this).data("irformArray",t),i){case"create":r.fn.irformArray.create.call(this)}},r.fn.irformArray.deleteItem=function(a){r(this).prop("disabled")!==!0&&r(a).remove()},r.fn.irformArray.moveItemUp=function(a){if(r(this).prop("disabled")!==!0){var t=r(a).prev(".irform-array-item");t.length&&(r(a).detach(),t.before(a))}},r.fn.irformArray.moveItemDown=function(a){if(r(this).prop("disabled")!==!0){var t=r(a).next(".irform-array-item");t.length&&(r(a).detach(),t.after(a))}},r.fn.irformArray.add=function(){var a=this,t=r(this).data("irformArray"),i=t.template,n=r("<div>",{"class":"irform-array-item"});if(t.inline&&(r(n).addClass("inline"),r(n).css("display","inline-block")),t.isDelete){var e=r("<div>",{"class":"irform-array-item-del"});r(e).html(t["delete"]),r(e).click(function(){r.fn.irformArray.deleteItem.call(a,n)}),r(n).append(e)}if(t.isMove){var o=r("<div>",{"class":"irform-array-item-up"});r(o).html(t.up),r(o).click(function(){r.fn.irformArray.moveItemUp.call(a,n)}),r(n).append(o);var f=r("<div>",{"class":"irform-array-item-down"});r(f).html(t.down),r(f).click(function(){r.fn.irformArray.moveItemDown.call(a,n)}),r(n).append(f)}var s=r("<div>",{"class":"irform-array-item-content"});r(s).html("function"==typeof i?i.call(a,n):r(i).clone(!0,!0)),r(n).append(s),r(this).find(".irform-array-content:first").append(n),t.hookAdd.call(a,n)},r.fn.irformArray.clear=function(){r(this).find(".irform-array-content:first").empty()},r.fn.irformArray.create=function(){var a=this,t=r(this).data("irformArray");r(a).empty(),r(a).addClass("irform-array"),r(a).attr("name",t.name);var i=r("<div>",{"class":"irform-array-content",style:t.inline?"display:inline-block;":""});if(r(a).append(i),r(a).on("array-add",function(){r.fn.irformArray.add.call(a)}),r(a).on("array-empty",function(){r.fn.irformArray.clear.call(a)}),t.isAdd){var n=r("<div>",{"class":"irform-array-add",style:"display:inline-block;"});r(n).html(t.add),r(n).click(function(){r(a).prop("disabled")!==!0&&r(a).trigger("array-add")}),r(a).append(n)}},r.fn.irformArray.defaults={name:null,template:'<input class="irform" type="text" name="text" />',inline:!1,isDelete:!0,isAdd:!0,isMove:!0,"delete":'<button class="irform dock-left" type="button"><span class="icon-cross"></span></button>',add:'<button class="irform" type="button"><span class="icon-plus"></span> Add</button>',up:'<button class="irform dock-right" type="button"><span class="icon-arrow-up"></span></button>',down:'<button class="irform dock-left dock-right" type="button"><span class="icon-arrow-down"></span></button>',hookAdd:function(){},hookValWrite:function(r){return r},hookValRead:function(r){return r}};var a=r.fn.val;r.fn.val=function(t){if(!arguments.length){if(r(this).hasClass("irform-array")){var t=[];r(this).children(".irform-array-content:first").children(".irform-array-item").each(function(r){t[r]=Irform.get(this)});var i=r(this).data("irformArray");return i.hookValRead.call(this,t)}return a.apply(this,arguments)}var n=t;return r(this).each(function(){var t=n;if(r(this).hasClass("irform-array")){var i=r(this).data("irformArray");t=i.hookValWrite.call(this,t),r(this).trigger("array-empty");for(var e in t){r(this).trigger("array-add");var o=r(this).children(".irform-array-content:first").children(".irform-array-item:last");Irform.set(o,t[e])}}else a.call(r(this),t)}),this}}(jQuery),Irform.defaultOptions.fields.array=function(r,a){var t=$("<div>");return $(t).irformArray({name:r,template:a.template}),t};!function(r){r.fn.irformArrayKeywords=function(i){r(this).irformArray(r.extend(!0,r.fn.irformArrayKeywords.defaults,i))},r.fn.irformArrayKeywords.defaults={template:'<span><span class="irform-array-keywords-edit"><button class="irform-array-item-left irform dock-right" type="button"><span class="icon-arrow-left"></span></button><input type="text" class="irform inline dock-left dock-right" name="keyword"/><button class="irform-array-item-right irform dock-left" type="button"><span class="icon-arrow-right"></span></button></span><span class="irform-array-keywords-tag irform border inline clickable" style="display: none;"><span></span><span class="irform-array-item-del" style="margin-left: 10px;"><span class="icon-cross"></span></span></span></span>',isMove:!1,isDelete:!1,inline:!0,hookAdd:function(i){var n=this,t=r(i).find(".irform-array-keywords-edit"),a=r(i).find(".irform-array-keywords-tag");r(i).find("input").on("blur",function(){var o=r(this).val();o?(r(t).hide(),r(a).find("span:first").text(o),r(a).show()):r().irformArray.deleteItem.call(n,i)}).on("change",function(){r(this).trigger("blur")}),r(a).click(function(){r(n).prop("disabled")!==!0&&(r(n).find(".irform-array-item").not(i).find("input").trigger("blur"),r(this).hide(),r(t).show())}),r(i).find(".irform-array-item-left").click(function(){r().irformArray.moveItemUp.call(n,i)}),r(i).find(".irform-array-item-right").click(function(){r().irformArray.moveItemDown.call(n,i)}),r(i).find(".irform-array-item-del").click(function(){r().irformArray.deleteItem.call(n,i)}),r(this).find(".irform-array-item").not(i).find("input").trigger("blur")},hookValWrite:function(r){r=r.split(",");var i=[];for(var n in r){var t=r[n].trim();t&&i.push({keyword:t})}return i},hookValRead:function(r){for(var i in r)r[i]=r[i].keyword;return r.join(", ")}}}(jQuery),Irform.defaultOptions.fields.keywords=function(r){var i=$("<div>");return i.irformArrayKeywords({name:r}),i};!function(e){e.fn.irformTinymce=function(t,i){var n;return e(this).each(function(){n=e().irformTinymce.x.call(this,t,i)}),"undefined"==typeof n?e(this):n},e.fn.irformTinymce.x=function(t){var i=e.fn.irformTinymce.defaults,n="create";switch("string"==typeof t&&(n=t),"create"!=n&&e(this).data("irformTinymce")&&(i=e(this).data("irformTinymce")),"object"==typeof t&&(i=e.extend(!0,{},i,t)),e(this).data("irformTinymce",i),n){case"create":e.fn.irformTinymce.create.call(this)}},e.fn.irformTinymce.create=function(){"undefined"==typeof e.fn.irformTinymce.create.id&&(e.fn.irformTinymce.create.id=0);var t=this,i=e(this).data("irformTinymce");e(this).addClass("irform-tinymce irform-pending"),e(this).attr("name",i.name),e(this).attr("id")||e(this).attr("id","irform-tinymce-id"+e.fn.irformTinymce.create.id++);var n=e.extend(!0,{selector:"#"+e(this).attr("id"),convert_urls:!1,file_browser_callback:function(n,a,r){i.callbackBrowser.call(t,r,function(t){e("#"+n).val(t)})},init_instance_callback:function(){i.callbackIsReady.call(t)},setup:function(i){i.on("change",function(){e(t).trigger("change")})}},i.tinymce);e(this).on("disable",function(){tinyMCE.get(e(this).prop("id")).setMode("readonly")}),e(this).on("enable",function(){tinyMCE.get(e(this).prop("id")).setMode("design")}),i.css&&(n.content_css=i.css),i.cssClass&&(n.body_class=i.cssClass),i.baseURL&&(n.document_base_url=i.baseURL),i.tinymceBase&&(tinymce.baseURL=i.tinymceBase),tinymce.suffix=".min",setTimeout(function(){tinymce.init(n)},100)},e.fn.irformTinymce.defaults={name:null,tinymceBase:null,baseURL:null,css:null,cssClass:null,callbackIsReady:function(){},callbackBrowser:function(){},tinymce:{menubar:!1,statusbar:!1,autoresize_max_height:e(window).innerHeight()-100,toolbar:"undo redo | styleselect | bold italic | forecolor | removeformat | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image media table | code | fullscreen",plugins:["advlist autolink autoresize link image lists charmap print preview hr anchor pagebreak spellchecker","searchreplace wordcount visualblocks visualchars code fullscreen insertdatetime media nonbreaking","save table contextmenu directionality emoticons template paste textcolor"]}};var t=e.fn.val;e.fn.val=function(i){return arguments.length?(e(this).each(function(){return e(this).hasClass("irform-tinymce")?tinyMCE.get(e(this).prop("id")).setContent(i):t.call(this,i)}),e(this)):e(this).hasClass("irform-tinymce")?tinyMCE.get(e(this).prop("id")).getContent():t.apply(this,arguments)}}(jQuery),Irform.defaultOptions.fields.htmleditor=function(e,t,i){var n=$("<div>");return $(n).irformTinymce($.extend(!0,{},{name:e,callbackIsReady:function(){i.call(this)}},t.options)),n};!function(i){i.fn.irformFile=function(t,e){var n;return i(this).each(function(){n=i().irformFile.x.call(this,t,e)}),"undefined"==typeof n?i(this):n},i.fn.irformFile.x=function(t){var e=i.fn.irformFile.defaults,n="create";switch("string"==typeof t&&(n=t),"create"!=n&&i(this).data("irformFile")&&(e=i(this).data("irformFile")),"object"==typeof t&&(e=i.extend(!0,{},e,t)),i(this).data("irformFile",e),n){case"create":i.fn.irformFile.create.call(this)}},i.fn.irformFile.create=function(){var t=i(this).data("irformFile"),e=this,n=i("<div>",{"class":"irform-group"}),r=i("<input>",{name:t.name,"class":"irform"});i(n).append(r);for(var a in t.buttonList){var o=t.presets[t.buttonList[a]],l=i("<button>",{"class":"irform",type:"button"});i(l).text(o.caption),i(l).data("irformFile",o),i(l).click(function(){var t=function(t){i(r).val(t)},n=i(e).data("irformFile"),a=i(this).data("irformFile");n.clean&&n.clean.call(e,t),n.clean=a.clean?a.clean:null,i(e).data("irformFile",n),a.action.call(e,t,a.options)}),i(n).append(l)}i(this).append(n)},i.fn.irformFile.defaults={name:"file",buttonList:["upload"],fileType:null,presets:{upload:{caption:"Upload",action:function(t,e){var n=i(this).data("irformFile"),r=i("<input>",{type:"file","class":"irform-file-upload",name:n.name+("multi"==e.mode?"[]":""),multiple:"multi"==e.mode?!0:!1});i(r).on("change",function(){var i="";if("object"==typeof this.files)for(var e=0;e<this.files.length;e++)i+=(i?" ":"")+'"'+this.files.item(e).name+'"';t(i)}),i(r).hide(),i(this).append(r),i(r).trigger("click")},options:{mode:"multi"},clean:function(t){t(""),i(this).find(".irform-file-upload").remove()}}}}}(jQuery),Irform.defaultOptions.fields.file=function(i,t){var e=$("<div>"),n={name:i};return"object"==typeof t.options&&(n=$.extend(!0,n,t.options)),$(e).irformFile(n),e};!function(o){o.fn.irformModal=function(r,a){var i;return o(this).each(function(){i=o().irformModal.x.call(this,r,a)}),"undefined"==typeof i?o(this):i},o.fn.irformModal.x=function(r){var a=o.fn.irformModal.defaults,i="create";switch("string"==typeof r&&(i=r),"create"!=i&&o(this).data("irformModal")&&(a=o(this).data("irformModal")),"object"==typeof r&&(a=o.extend(!0,{},a,r)),o(this).data("irformModal",a),i){case"create":o.fn.irformModal.create.call(this)}},o.fn.irformModal.defaults={zIndex:99999},o.fn.irformModal.create=function(){var r=o(this).data("irformModal"),a=o("<div>",{"class":"irform-modal-content"});o(a).append(this),o(a).click(function(o){o.stopPropagation()});var i=o("<div>",{"class":"irform-modal"});o(i).css({top:0,left:0,width:"100%",height:"100%",position:"fixed",zIndex:r.zIndex}),o(i).append(a),r.container=i,r.overflow=o("body").css("overflow"),o(this).data("irformModal",r);var t=this;o(i).click(function(){o.fn.irformModal.close.call(t)}),o("body").append(i),o("body").css("overflow","hidden")},o.fn.irformModal.close=function(){var r=o(this).data("irformModal");o(r.container).remove(),o("body").css("overflow",r.overflow)}}(jQuery);irRequire("IrexplorerDialog",function(){var e=function(e,i){"undefined"==typeof r&&(r={});var r=$(this).data("irformFile");r&&r.fileType&&(i=$.extend(!0,i,{irexplorer:{showType:["folder",r.fileType]}})),new IrexplorerDialog($.extend(!0,{},{relative:!0,onValidate:function(i){e(i)}},i))};$().irformTinymce.defaults.callbackBrowser=function(i,r){var o="file";switch(i){case"image":o="image"}e(r,{mode:o})},$().irformFile.defaults.buttonList.push("browse"),$().irformFile.defaults.presets.browse={caption:"Browse",action:e},$().irformFile.defaults.presets.image={caption:"Select Image",options:{mode:"image"},action:e},$().irformFile.defaults.presets.directory={caption:"Select Directory",options:{mode:"directory"},action:e}});