/* irform (16.10.23) by Blaise Lengrand */
var Irform=function(e,r,t){this.container=e,this.formDescription=r,this.options=$.extend(!0,{},Irform.defaultOptions,t),$(this.container).empty(),this.create(e,r)};Irform.CHAR_A_Z=1,Irform.CHAR_0_9=2,Irform.CHAR_SPACE=4,Irform.CHAR_SPECIAL=8,Irform.CHAR_UPPERCASE_ONLY=16,Irform.CHAR_LOWERCASE_ONLY=32,Irform.EMAIL="^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+.[a-zA-Z]{2,}$",Irform.defaultOptions={fields:{input:function(e,r){var t=document.createElement("input");return $(t).prop("type","text"),$(t).prop("name",e),$(t).addClass("irform"),"string"==typeof r.placeholder&&$(t).prop("placeholder",r.placeholder),t},password:function(e,r){var t=document.createElement("input");return $(t).prop("type","password"),$(t).prop("name",e),$(t).addClass("irform"),"string"==typeof r.placeholder&&$(t).prop("placeholder",r.placeholder),t},textarea:function(e,r){var t=document.createElement("textarea");return $(t).prop("name",e),$(t).addClass("irform"),"string"==typeof r.placeholder&&$(t).prop("placeholder",r.placeholder),t},submit:function(e,r){var t=document.createElement("button");$(t).prop("type","submit"),$(t).prop("name",e),$(t).addClass("irform"),$(t).text("string"==typeof r.value?r.value:"Submit");var a=this;return $(t).click(function(){var e=a.get();e!==!1&&"string"==typeof r.callback&&r.callback.call(a,e)}),t},select:function(e,r){var t=document.createElement("select");$(t).prop("name",e),$(t).addClass("irform");for(var e in r.select){var a=document.createElement("option");$(a).text(r.select[e]),$(a).prop("value",e),$(t).append(a)}return t}},defaultType:"input",wrapper:function(e,r){var t=document.createElement("div"),a=document.createElement("div");$(a).addClass("irform-caption"),$(a).text(r.caption);var i=document.createElement("div");return $(i).addClass("irform-elements"),$(i).append(e),$(t).append(a),$(t).append(i),t},callbackError:function(e){var r="";$(this.container).find(".irform-item.error").removeClass("error");for(var t in e)switch($(e[t].item).removeClass("success").addClass("error"),e[t].type){case"required":r+="'"+e[t].name+"' is required\n";break;case"validation":r+="'"+e[t].name+"' does not validate\n"}alert(r)},callbackSuccess:function(e){$(e).removeClass("error").addClass("success")},disable:function(e,r){var t=Irform.findNameHolder(r);$(t).find("input,textarea,select,button").add(t).prop("disabled",e),$(r).find("input,textarea,select,button").filter(".irform").prop("disabled",e),e?$(r).addClass("disable"):$(r).removeClass("disable"),Irform.queue(t,function(){$(t).trigger(e?"disable":"enable")})}},Irform.validate=function(e,r){return"string"==typeof r?e&Irform.CHAR_UPPERCASE_ONLY&&r.test(/[a-z]/g)?!1:e&Irform.CHAR_LOWERCASE_ONLY&&r.test(/[A-Z]/g)?!1:(e&Irform.CHAR_A_Z&&(r=r.replace(/[a-z]/gi,"")),e&Irform.CHAR_0_9&&(r=r.replace(/[0-9]/g,"")),e&Irform.CHAR_SPACE&&(r=r.replace(/[ ]/g,"")),e&Irform.CHAR_SPECIAL&&(r=r.replace(/[!"#\$%&'\(\)\*\+,\-\.\/:;<=>\?@\[\\\]^_`\{\|\}~]/g,"")),""===r?!0:!1):!0},Irform.findNameHolder=function(e,r){return"undefined"==typeof r&&(r=$(e).hasClass("irform-item")?$(e).attr("data-irform"):null),$(e).find("[name"+(r?"="+r:"")+"]").addBack("[name"+(r?"="+r:"")+"]").first()},Irform.prototype.create=function(e,r){"undefined"==typeof Irform.unique&&(Irform.unique=0);for(var t in r){var a=this,i=$.extend({name:"irform"+Irform.unique++,type:this.options.defaultType,required:!1,validate:null,disabled:!1,ignore:"undefined"==typeof r[t].name?!0:!1,options:{}},r[t]),n=i.name;r[t]=i;var o=i.type;if("function"==typeof this.options.fields[o]){var s=this.options.fields[o].call(this,n,i,function(){$(this).removeClass("irform-pending"),Irform.queue(this)}),l=Irform.findNameHolder(s,n);$(l).on("change",function(){var e=$(this).val(),r=$(this).parents(".irform-item:first"),t=$(r).data("irform"),i=$(this).prop("name");e&&t.validate?a.validate(r,e)?a.options.callbackSuccess.call(a,r,i):a.options.callbackError.call(a,[{type:"validation",item:r,name:i,options:t}]):e&&$(r).hasClass("required")&&a.options.callbackSuccess.call(a,r,i),"object"==typeof t.onchange&&($(this).data("nextElement")&&$(r).nextUntil($(this).data("nextElement")).remove(),$(this).data("nextElement",$(r).next()),"object"==typeof t.onchange[e]?a.create(r,t.onchange[e]):"object"==typeof t.onchange.__default__&&a.create(r,t.onchange.__default__))});var f=this.options.wrapper.call(this,s,i,n);$(f).addClass("irform-item"),$(f).attr("data-irform",n),i.required&&$(f).addClass("required"),i.disabled&&Irform.queue(l,function(){a.options.disable.call(a,!0,$(this).parents(".irform-item:first"))}),$(f).data("irform",i),$(e).hasClass("irform-item")?$(e).after(f):$(e).append(f)}else console.log("'"+o+"' is not supported")}for(var t in r){var n=r[t].name,l=Irform.findNameHolder(e,n);Irform.queue(l,function(){$(this).trigger("change")})}},Irform.prototype.disable=function(){var e=this.options.disable;this.each(function(r){e.call(this,!0,r)})},Irform.prototype.enable=function(){var e=this.options.disable;this.each(function(r){e.call(this,!1,r)})},Irform.prototype.update=function(e){var r=this.get(function(){},!0);$(this.container).empty(),this.formDescription=e,this.create(this.container,e),this.set(r)},Irform.prototype.ignore=function(e,r){var t=$(e).data("irform");t.ignore=r,$(e).data("irform",t)},Irform.prototype.validate=function(e,r){var t=$(e).data("irform");if("number"==typeof t.validate)return Irform.validate(t.validate,r);if("string"==typeof t.validate){var a=new RegExp(t.validate,"g");return a.test(r)}return"function"==typeof t.validate?t.validate.call(this,r,e):!0},Irform.prototype.each=function(e){var r=this;$(this.container).find(".irform-item").each(function(){e.call(r,this)})},Irform.prototype.get=function(e,r){var t=!1,a=[],i=this;"undefined"==typeof r&&(r=!1);var n=$();this.each(function(e){n=n.add($("[name="+$(e).attr("data-irform")+"]"))});var o=Irform.get(n,function(n,o){var s=$(this).parents(".irform-item:first"),l=s.data("irform");if(!r){if(l.ignore)return null;if(!o&&l.required&&(a.push({type:"required",item:s,name:n,options:l}),t=!0),l.validate&&!i.validate(s,o)&&(a.push({type:"validation",item:s,name:n,options:l}),t=!0),"function"==typeof e){var f=e.call(i,s,n,o);if("undefined"!=typeof f)return f}}});return t?(this.options.callbackError.call(this,a),!1):o},Irform.prototype.set=function(e){var r={};do{var t=!1;Irform.set(this.container,e,function(e){return"undefined"!=typeof r[e]?null:(r[e]=!0,void(t=!0))})}while(t)},Irform.queue=function(e,r){if("function"==typeof r)if($(e).hasClass("irform-pending")){var t=$(e).data("irform-queue")||[];t.push(r),$(e).data("irform-queue",t)}else r.call(e);else{for(var t=$(e).data("irform-queue")||[];t.length;){var r=t.shift();r.call(e)}$(e).data("irform-queue",[])}},Irform.set=function(e,r,t){var a=$(e).find("[name]").addBack("[name]").not("a").filter(function(){var r=$(this).parent().closest("[name]");return 0==r.length||0==$(e).find(r).length&&0==$(e).filter(r).length});$(a).each(function(){var e=$(this).prop("name")||$(this).attr("name");if("undefined"!=typeof r[e]){var a=r[e];if("function"==typeof t){var i=t.call(this,e,a);if("undefined"!=typeof i){if(null===i)return;a=i}}Irform.queue(this,function(){$(this).val(a),$(this).trigger("change")})}})},Irform.get=function(e,r){var t={},a=$(e).find("[name]").addBack("[name]").not("a").filter(function(){var r=$(this).parent().closest("[name]");return 0==r.length||0==$(e).find(r).length&&0==$(e).filter(r).length});return $(a).each(function(){if(!$(this).hasClass("irform-pending")){var e=$(this).prop("name")||$(this).attr("name");if(e){var a=$(this).val();if("function"==typeof r){var i=r.call(this,e,a);if("undefined"!=typeof i){if(null===i)return;a=i}}t[e]=a}}}),t},Irform.clear=function(e){$(e).find(".irform-array").trigger("array-empty"),$(e).find("[name]").val("").trigger("change")},function(e){e.fn.irformArray=function(r,t){var a;return e(this).each(function(){a=e().irformArray.x.call(this,r,t)}),"undefined"==typeof a?e(this):a},e.fn.irformArray.x=function(r,t){var a=e.fn.irformArray.defaults,i="create";switch("string"==typeof r&&(i=r),"create"!=i&&e(this).data("irformArray")&&(a=e(this).data("irformArray")),"object"==typeof r&&(a=e.extend(!0,{},a,r)),e(this).data("irformArray",a),i){case"create":e.fn.irformArray.create.call(this);break;case"itemDelete":e.fn.irformArray.deleteItem.call(this,t);break;case"itemUp":e.fn.irformArray.moveItemUp.call(this,t);break;case"itemDown":e.fn.irformArray.moveItemDown.call(this,t)}},e.fn.irformArray.deleteItem=function(r){e(this).prop("disabled")!==!0&&e(r).remove()},e.fn.irformArray.moveItemUp=function(r){if(e(this).prop("disabled")!==!0){var t=e(r).prev(".irform-array-item");t.length&&(e(r).detach(),t.before(r))}},e.fn.irformArray.moveItemDown=function(r){if(e(this).prop("disabled")!==!0){var t=e(r).next(".irform-array-item");t.length&&(e(r).detach(),t.after(r))}},e.fn.irformArray.add=function(){var r=this,t=e(this).data("irformArray"),a=t.template,i=document.createElement("div");if(e(i).addClass("irform-array-item"),t.inline&&e(i).addClass("inline"),t.isDelete){var n=document.createElement("div");e(n).addClass("irform-array-item-del"),e(n).html(t["delete"]),e(n).click(function(){e.fn.irformArray.deleteItem.call(r,i)}),e(i).append(n)}if(t.isMove){var o=document.createElement("div");e(o).addClass("irform-array-item-up"),e(o).html(t.up),e(o).click(function(){e.fn.irformArray.moveItemUp.call(r,i)}),e(i).append(o);var s=document.createElement("div");e(s).addClass("irform-array-item-down"),e(s).html(t.down),e(s).click(function(){e.fn.irformArray.moveItemDown.call(r,i)}),e(i).append(s)}var l=document.createElement("div");e(l).addClass("irform-array-item-content"),e(l).html("function"==typeof a?a.call(r,i):e(a).clone(!0,!0)),e(i).append(l),e(this).find(".irform-array-content:first").append(i),t.hookAdd.call(r,i)},e.fn.irformArray.clear=function(){e(this).find(".irform-array-content:first").empty()},e.fn.irformArray.create=function(){var r=this,t=e(this).data("irformArray");e(r).empty(),e(r).addClass("irform-array"),e(r).attr("name",t.name);var a=document.createElement("div");if(e(a).addClass("irform-array-content"),t.inline&&e(a).css("display","inline-block"),e(r).append(a),e(r).on("array-add",function(){e.fn.irformArray.add.call(r)}),e(r).on("array-empty",function(){e.fn.irformArray.clear.call(r)}),t.isAdd){var i=document.createElement("div");e(i).addClass("irform-array-add"),e(i).html(t.add),t.inline&&e(i).css("display","inline-block"),e(i).click(function(){e(r).prop("disabled")!==!0&&e(r).trigger("array-add")}),e(r).append(i)}},e.fn.irformArray.defaults={name:null,template:'<input class="irform" type="text" />',inline:!1,isDelete:!0,isAdd:!0,isMove:!0,"delete":'<button class="irform dock-left" type="button"><span class="icon-cross"></span></button>',add:'<button class="irform" type="button"><span class="icon-plus"></span> Add</button>',up:'<button class="irform dock-right" type="button"><span class="icon-arrow-up"></span></button>',down:'<button class="irform dock-left dock-right" type="button"><span class="icon-arrow-down"></span></button>',hookAdd:function(){},hookValWrite:function(e){return e},hookValRead:function(e){return e}};var r=e.fn.val;e.fn.val=function(t){if(!arguments.length){if(e(this).hasClass("irform-array")){var t=[];e(this).children(".irform-array-content:first").children(".irform-array-item").each(function(e){t[e]=Irform.get(this)});var a=e(this).data("irformArray");return a.hookValRead.call(this,t)}return r.apply(this,arguments)}var i=t;return e(this).each(function(){var t=i;if(e(this).hasClass("irform-array")){var a=e(this).data("irformArray");t=a.hookValWrite.call(this,t),e(this).trigger("array-empty");for(var n in t){e(this).trigger("array-add");var o=e(this).children(".irform-array-content:first").children(".irform-array-item:last");Irform.set(o,t[n])}}else r.call(e(this),t)}),this}}(jQuery),Irform.defaultOptions.fields.array=function(e,r){var t=document.createElement("div");return $(t).irformArray({name:e,template:r.template}),t},function(e){e.fn.irformArrayKeywords=function(r){e(this).irformArray(e.extend(!0,e.fn.irformArrayKeywords.defaults,r))},e.fn.irformArrayKeywords.defaults={template:'<span><span class="irform-array-keywords-edit"><button class="irform-array-item-left irform dock-right" type="button"><span class="icon-arrow-left"></span></button><input type="text" class="irform inline dock-left dock-right" name="keyword"/><button class="irform-array-item-right irform dock-left" type="button"><span class="icon-arrow-right"></span></button></span><span class="irform-array-keywords-tag irform border inline clickable" style="display: none;"><span></span><span class="irform-array-item-del" style="margin-left: 10px;"><span class="icon-cross"></span></span></span></span>',isMove:!1,isDelete:!1,inline:!0,hookAdd:function(r){var t=this,a=e(r).find(".irform-array-keywords-edit"),i=e(r).find(".irform-array-keywords-tag");e(r).find("input").on("blur",function(){var n=e(this).val();n?(e(a).hide(),e(i).find("span:first").text(n),e(i).show()):e(t).irformArray("itemDelete",r)}).on("change",function(){e(this).trigger("blur")}),e(i).click(function(){e(t).prop("disabled")!==!0&&(e(t).find(".irform-array-item").not(r).find("input").trigger("blur"),e(this).hide(),e(a).show())}),e(r).find(".irform-array-item-left").click(function(){e(t).irformArray("itemUp",r)}),e(r).find(".irform-array-item-right").click(function(){e(t).irformArray("itemDown",r)}),e(r).find(".irform-array-item-del").click(function(){e(t).irformArray("itemDelete",r)}),e(this).find(".irform-array-item").not(r).find("input").trigger("blur")},hookValWrite:function(e){e=e.split(",");var r=[];for(var t in e){var a=e[t].trim();a&&r.push({keyword:a})}return r},hookValRead:function(e){for(var r in e)e[r]=e[r].keyword;return e.join(", ")}}}(jQuery),Irform.defaultOptions.fields.keywords=function(e){var r=document.createElement("div");return $(r).irformArrayKeywords({name:e}),r},function(e){e.fn.irformTinymce=function(r,t){var a;return e(this).each(function(){a=e().irformTinymce.x.call(this,r,t)}),"undefined"==typeof a?e(this):a},e.fn.irformTinymce.x=function(r){var t=e.fn.irformTinymce.defaults,a="create";switch("string"==typeof r&&(a=r),"create"!=a&&e(this).data("irformTinymce")&&(t=e(this).data("irformTinymce")),"object"==typeof r&&(t=e.extend(!0,{},t,r)),e(this).data("irformTinymce",t),a){case"create":e.fn.irformTinymce.create.call(this)}},e.fn.irformTinymce.create=function(){"undefined"==typeof e.fn.irformTinymce.create.id&&(e.fn.irformTinymce.create.id=0);var r=this,t=e(this).data("irformTinymce");e(this).addClass("irform-tinymce irform-pending"),e(this).attr("name",t.name),e(this).attr("id")||e(this).attr("id","irform-tinymce-id"+e.fn.irformTinymce.create.id++);var a=e.extend(!0,{selector:"#"+e(this).attr("id"),convert_urls:!1,file_browser_callback:function(a,i,n){t.callbackBrowser.call(r,n,function(r){e("#"+a).val(r)})},init_instance_callback:function(){t.callbackIsReady.call(r)},setup:function(t){t.on("change",function(){e(r).trigger("change")})}},t.tinymce);e(this).on("disable",function(){tinyMCE.get(e(this).prop("id")).setMode("readonly")}),e(this).on("enable",function(){tinyMCE.get(e(this).prop("id")).setMode("design")}),t.css&&(a.content_css=t.css),t.cssClass&&(a.body_class=t.cssClass),t.baseURL&&(a.document_base_url=t.baseURL),t.tinymceBase&&(tinymce.baseURL=t.tinymceBase),tinymce.suffix=".min",setTimeout(function(){tinymce.init(a)},100)},e.fn.irformTinymce.defaults={name:null,tinymceBase:null,baseURL:null,css:null,cssClass:null,callbackIsReady:function(){},callbackBrowser:function(){},tinymce:{menubar:!1,statusbar:!1,autoresize_max_height:e(window).innerHeight()-100,toolbar:"undo redo | styleselect | bold italic | forecolor | removeformat | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | codesample link image media table | code | fullscreen",plugins:["advlist autolink autoresize link image lists charmap print preview hr anchor pagebreak spellchecker","searchreplace wordcount visualblocks visualchars code fullscreen insertdatetime media nonbreaking","save table contextmenu directionality emoticons template paste textcolor codesample"]}};var r=e.fn.val;e.fn.val=function(t){return arguments.length?(e(this).each(function(){return e(this).hasClass("irform-tinymce")?tinyMCE.get(e(this).prop("id")).setContent(t):r.call(this,t)}),e(this)):e(this).hasClass("irform-tinymce")?tinyMCE.get(e(this).prop("id")).getContent():r.apply(this,arguments)}}(jQuery),Irform.defaultOptions.fields.htmleditor=function(e,r,t){var a=document.createElement("div");return $(a).irformTinymce($.extend(!0,{},{name:e,callbackIsReady:function(){t.call(this)}},r.options)),a},function(e){e.fn.irformFile=function(r,t){var a;return e(this).each(function(){a=e().irformFile.x.call(this,r,t)}),"undefined"==typeof a?e(this):a},e.fn.irformFile.x=function(r){var t=e.fn.irformFile.defaults,a="create";switch("string"==typeof r&&(a=r),"create"!=a&&e(this).data("irformFile")&&(t=e(this).data("irformFile")),"object"==typeof r&&(t=e.extend(!0,{},t,r)),e(this).data("irformFile",t),a){case"create":e.fn.irformFile.create.call(this)}},e.fn.irformFile.create=function(){var r=e(this).data("irformFile"),t=this,a=document.createElement("div");e(a).addClass("irform-group");var i=document.createElement("input");e(i).attr("name",r.name),e(i).addClass("irform"),e(a).append(i);for(var n in r.buttonList){var o=r.presets[r.buttonList[n]],s=document.createElement("button");e(s).text(o.caption),e(s).addClass("irform"),e(s).attr("type","button"),e(s).click(function(){o.action.call(t,function(r){e(i).val(r)},o.options)}),e(a).append(s)}e(this).append(a)},e.fn.irformFile.defaults={name:null,buttonList:[],fileType:null,presets:{}}}(jQuery),Irform.defaultOptions.fields.file=function(e,r){var t=document.createElement("div"),a={name:e};return"object"==typeof r.options&&(a=$.extend(!0,a,r.options)),$(t).irformFile(a),t};var IrformFileIrexplorer=function(e,r){"undefined"==typeof t&&(t={});var t=$(this).data("irformFile");t&&t.fileType&&(r=$.extend(!0,r,{irexplorer:{showType:["folder",t.fileType]}})),new IrexplorerDialog($.extend(!0,{},{relative:!0,onValidate:function(r){e(r)}},r))};$().irformTinymce.defaults.callbackBrowser=function(e,r){switch(mode="file",e){case"image":mode="image"}IrformFileIrexplorer(r,{mode:mode})},$().irformFile.defaults.buttonList.push("browse"),$().irformFile.defaults.presets.browse={caption:"Browse",action:IrformFileIrexplorer},$().irformFile.defaults.presets.image={caption:"Select Image",options:{mode:"image"},action:IrformFileIrexplorer},$().irformFile.defaults.presets.directory={caption:"Select Directory",options:{mode:"directory"},action:IrformFileIrexplorer},Irform.defaultOptions.wrapper=function(e,r,t){var a=document.createElement("div");$(a).addClass("form-group"),$(a).css("clear","both");var i=document.createElement("a");$(i).prop("name","irform-anchor-"+t);var n=document.createElement("label");$(n).addClass("col-sm-2 control-label"),$(n).text("string"==typeof r.caption?r.caption:t);var o=document.createElement("fieldset");if($(o).addClass("col-sm-10"),$(e).is("input,textarea,select")&&$(e).addClass("form-control"),$(o).append(e),"undefined"!=typeof r.description){var s=document.createElement("small");$(s).addClass("form-text text-muted"),$(s).text(r.description),$(o).append(s)}return $(a).append(i),$(a).append(n),$(a).append(o),a},Irform.defaultOptions.callbackError=function(e){var r="";for(var t in e){switch(e[t].type){case"required":r+='<div class="irform-id-'+e[t].name+'"><a class="alert-link" href="#'+e[t].name+'">'+e[t].options.caption+"</a> is required</div>";break;case"validation":r+='<div class="irform-id-'+e[t].name+'"><a class="alert-link" href="#'+e[t].name+'">'+e[t].options.caption+"</a> does not validate</div>"}$(e[t].item).removeClass("has-success").addClass("has-error")}$(this.container).find(".irform-error").remove(),$(this.container).prepend('<div class="bs-component irform-error"><div class="alert alert-danger alert-dismissible" role="alert"><button type="button" class="close" data-dismiss="alert">x</button><div class="irform-message">'+r+"</div></div></div>")},Irform.defaultOptions.callbackSuccess=function(e,r){$(e).removeClass("has-error").addClass("has-success");var t=$(this.container).find(".irform-error");$(t).find(".irform-message .irform-id-"+r).remove(),$(t).find(".irform-message").text()||$(t).remove()};var IrformBootstrapSave=Irform.defaultOptions.disable;Irform.defaultOptions.disable=function(e,r){IrformBootstrapSave.call(this,e,r),$(r).find("fieldset").prop("disabled",e)},function(e){e.fn.irformArray.defaults.template='<input type="text" class="form-control" />',e.fn.irformArray.defaults.add='<button type="button" class="btn btn-info"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span> Add</button>',e.fn.irformArrayKeywords.defaults.template='<span style="margin-right: 10px;"><span class="irform-array-keywords-edit"><span class="irform-array-item-left glyphicon glyphicon-triangle-left" aria-hidden="true"></span><form class="form-inline" style="display: inline-block;"><input type="text" class="form-control" name="keyword"/></form><span class="irform-array-item-right glyphicon glyphicon-triangle-right" aria-hidden="true"></span></span><button type="button" class="irform-array-keywords-tag btn btn-default" style="display: none;"><span></span><span class="irform-array-item-del glyphicon glyphicon-remove" style="margin-left: 10px;" aria-hidden="true"></span></button></span>',e.fn.irformFile.create=function(){var r=e(this).data("irformFile"),t=this,a=document.createElement("div");e(a).addClass("input-group");var i=document.createElement("input");e(i).attr("name",r.name),e(i).attr("type","text"),e(i).addClass("form-control"),e(a).append(i);var n=document.createElement("div");e(n).addClass("input-group-btn");var o=document.createElement("button");if(e(o).attr("type","button"),e(o).addClass("btn btn-default dropdown-toggle"),e(o).attr("data-toggle","dropdown"),r.buttonList.length>1)e(o).html('<span class="glyphicon glyphicon-folder-open" aria-hidden="true"></span>&nbsp;&nbsp;<span class="caret"></span>');else{var s=r.presets[r.buttonList[0]];e(o).text(s.caption),e(o).click(function(){s.action.call(t,function(r){e(i).val(r)},s.options)})}if(e(n).append(o),r.buttonList.length>1){var l=document.createElement("ul");e(l).addClass("dropdown-menu");for(var f in r.buttonList){var s=r.presets[r.buttonList[f]],c=document.createElement("li"),d=document.createElement("a");e(d).text(s.caption),e(d).click(function(){s.action.call(t,function(r){e(i).val(r)},s.options)}),e(c).append(d),e(l).append(c)}e(n).append(l)}e(a).append(n),e(this).html(a)}}(jQuery);